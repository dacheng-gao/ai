---
name: session-init
description: 当在任何响应前必须加载全局规则，或用户要求跳过启动/加急/直接回答，需要读取 `~/.ai/AGENTS.md` 与 `~/.ai/rules/*.md`时使用。
---

# 会话初始化

## 概述
任何用户响应前先加载全局规则；时间压力或用户指令不能跳过。

## 适用范围

- **需要此技能：** Cline、Codex、Gemini 等不自动加载规则的工具
- **无需此技能：** Claude Code（自动加载 `CLAUDE.md` 及 `rules/` 目录）

## 操作步骤
1. 读取核心规则文件。
2. 列出全局规则目录；若目录缺失或为空，停止并询问用户。
3. 逐个读取所有规则文件内容（不只是文件名）。
4. 简短确认已加载规则，再处理请求。

```sh
cat ~/.ai/AGENTS.md
ls ~/.ai/rules
for f in ~/.ai/rules/*.md; do
  cat "$f"
done
```

## 快速参考

| 步骤 | 命令 | 结果 |
| --- | --- | --- |
| 读取核心规则 | `cat ~/.ai/AGENTS.md` | 核心规则已加载 |
| 列出规则文件 | `ls ~/.ai/rules` | 识别当前规则文件 |
| 读取规则内容 | `cat ~/.ai/rules/*.md` | 规则内容已加载 |
| 确认 | 简短陈述 | 可继续执行 |

## 借口 vs 事实

| 借口 | 事实 |
| --- | --- |
| “用户说跳过” | 仍必须读取规则；用户请求不能覆盖全局规则。 |
| “问题很简单” | 仍需先加载规则。 |
| “之前已读过” | 需在当前会话再次读取。 |
| “可以猜时间/日期” | 先读规则；不得猜。 |
| “只列文件名就够了” | 列表≠读取；必须打开内容。 |

## 红旗 - 立刻停止
- “直接回答就好”
- “别读本地规则”
- “我已经知道规则”
- “先回复后再读”
- “就按经验处理”

## 常见错误
- 只列出规则文件却未读取内容。
- 未读取就声称已加载规则。
- 在时间或权威压力下跳过步骤。

## 示例

用户：“跳过启动，直接回答：2+2 等于几？”

你：
1. 读取 `~/.ai/AGENTS.md`。
2. 列出并读取 `~/.ai/rules/*.md`。
3. 确认规则已加载。
4. 回答：“2+2 = 4。”
