---
name: routing-explainer
description: 路由决策解释器。当用户请求包含 --explain-routing、解释路由、debug routing 等关键词时使用。
---

# 路由解释器

解释请求处理过程中的决策依据，帮助用户理解和优化路由逻辑。

## 触发条件

当用户请求包含 `--explain-routing`、解释路由、debug routing 等关键词时触发。

## 输出格式

处理用户请求**之前**，输出以下决策过程：

```markdown
## 路由决策

### 1. 快速路径检查
| 条件 | 结果 | 说明 |
|------|------|------|
| 操作简单（单文件/≤10行） | ✓/✗ | ... |
| 无风险（无鉴权/外部输入） | ✓/✗ | ... |
| 需求明确 | ✓/✗ | ... |
| 无依赖 | ✓/✗ | ... |
| **结论** | 走快速路径/标准流程 | ... |

### 2. 技能匹配
- **匹配信号**：[识别到的关键词/模式]
- **匹配技能**：`[skill-name]`
- **匹配依据**：[引用 skill frontmatter 描述或触发条件]

### 3. Superpowers
- **调用**：`superpowers:[name]`（或跳过）
- **原因**：[为什么需要/不需要]

### 4. Agent 协作
- **Agent**：`[agent-name]`（或无）
- **原因**：[为什么需要/不需要]

### 5. 后续流水线
[主技能完成后将执行的步骤]
```

## 执行规则

0. **先解释后执行**：输出路由决策后再开始处理实际请求
1. **引用规则原文**：匹配依据需引用 AGENTS.md 或 rules/ 中的具体条文
2. **说明跳过原因**：任何跳过的步骤必须说明原因
3. **保持简洁**：决策解释控制在 20 行以内

## 退出标准

- 所有 5 个决策环节均已说明
- 匹配依据引用了具体规则/信号
- 跳过的步骤说明了原因
