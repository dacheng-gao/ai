---
name: architecture-review
description: 评估系统架构、平台设计或高层结构时使用。输出风险检查清单。
argument-hint: "[系统或架构描述]"
---

# 架构评审

基于证据评估风险，输出含风险等级与修复建议的检查清单。除非要求，不做重构/重设计。

## 必需输入（缺失则询问）
- 目标、SLO 与非功能性需求
- 流量、数据规模与增长曲线
- 拓扑图与数据流
- 关键用户路径与故障模式
- 约束：延迟、成本、合规、团队规模
- 事故历史或已知热点

## 流程
1. 明确范围与约束
2. 收集证据（文档、代码触点、指标）
3. 分领域识别风险：
   - 边界与耦合
   - 数据流与一致性
   - 可扩展性与容量
   - 可靠性与故障恢复
   - 安全与访问控制
   - 可观测性
   - 部署与回滚
   - 成本与效率
4. 提出范围清晰的修复方案
5. 按影响与紧迫度排序

## 输出格式
```markdown
检查清单
- 领域: <边界/数据/规模/可靠性/安全/可观测性/部署/成本>
  风险: Critical | Important | Suggestion
  证据: <文件/指标/链路追踪/图示备注>
  影响: <用户或系统影响>
  修复: <具体改动>

摘要
- 阻断发布风险: <数量 + 简短清单>
- 下一步: <前 1-3 个修复项>
```

## 红旗（出现即停止并修正）
- 没有范围或约束就评审
- 没有证据支撑的泛化建议
- 把评审当成重构或重新设计
- 输入缺失时不写明假设

## 退出标准
- 每个评审领域均已检查并标注风险等级
- 所有 Critical 发现有可执行的修复方案
