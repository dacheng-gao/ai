# 语言规则

## 核心原则

1. **受众导向**：按目标受众群体决定语言，而非按内容类型
2. **开发者群体语言**：开发者可见内容与团队语言一致
3. **对外内容**：默认英语，项目可覆盖
4. **不确认**：直接采用默认值

**仅在必要时确认**：破坏性/不可逆操作、安全/敏感数据变更、兼容性风险、需求重大歧义。

---

## 受众群体

### 👥 开发者群体（Developer Audience）

**语言**：与团队语言一致（默认中文）

| 类别 | 内容 | 默认 |
|------|------|------|
| 💬 **AI 对话** | 回复、提问、解释、评审报告、角色视角分析 | 中文 |
| 📝 **技术文档** | README、指南、ADR、架构文档、Wiki | 中文 |
| 📋 **开发过程文档** | Rules、Skills、OpenSpec（proposal/design/tasks）、Plan 文档 | 中文 |
| 💻 **代码注释** | TODO/FIXME、行内注释、函数文档 | 中文 |
| 🚀 **日志** | 应用日志、错误信息、调试输出 | 中文 |

> **中国开发者团队**：所有开发者可见内容使用中文。代码、文件名、专有名词保持英文（如 `user_id`、`Netty`）。

---

### 🌐 对外内容（Public Audience）

**语言**：英语（固定，不可覆盖）

| 类别 | 内容 | 语言 |
|------|------|------|
| 🔧 **Git** | 提交、PR、Issue、分支、标签 | 英语 |
| 🌐 **API/Schema** | 端点、DB schema、配置 key、OpenAPI/GraphQL | 英语 |
| 🧪 **测试** | 测试名、断言、mock、fixture | 英语 |
| 📋 **变更日志** | Release notes、迁移指南、CHANGELOG | 英语 |
| 💻 **代码标识符** | 变量名、函数名、类名、文件名 | 英语 |
| 🔑 **i18n Key** | 翻译键名 | 英语 |

**Git 提交格式**：Conventional Commits，详见 `rules/git-workflow.md`

> 注：Git UI 中的评审意见用英语；聊天中的代码评审报告用中文。

---

### 🎯 最终用户（End User Audience）

**语言**：取决于项目是否国际化

| 项目类型 | UI 文案、提示、校验、通知 |
|---------|--------------------------|
| **已国际化** | 按各 locale（en-US、zh-CN 等） |
| **未国际化** | 与开发者群体语言一致（默认中文） |

---

## 快速参考

| 受众 | 类别 | 默认 | 可覆盖 |
|------|------|------|--------|
| 👥 **开发者** | AI 对话 | 中文 | ✅ |
| 👥 **开发者** | 技术文档 | 中文 | ✅ |
| 👥 **开发者** | 开发过程文档（Rules/Skills/OpenSpec/Plan） | 中文 | ✅ |
| 👥 **开发者** | 代码注释 | 中文 | ✅ |
| 👥 **开发者** | 日志 | 中文 | ✅ |
| 🌐 **对外** | Git | 英语 | ❌ |
| 🌐 **对外** | API/Schema | 英语 | ❌ |
| 🌐 **对外** | 测试 | 英语 | ❌ |
| 🌐 **对外** | 变更日志 | 英语 | ✅ |
| 🌐 **对外** | 代码标识符 | 英语 | ❌ |
| 🌐 **对外** | i18n Key | 英语 | ❌ |
| 🎯 **最终用户** | UI 文案 | 见国际化说明 | ✅ |

---

## 项目级覆盖

项目可通过 `AGENTS.md` 覆盖可配置项。

```yaml
language:
  # 开发者群体语言（默认: chinese）
  developer: chinese

  # 技术文档语言（默认: 继承 developer）
  documentation: chinese

  # 变更日志语言（默认: english）
  changelog: english

  # 最终用户文案（默认: 继承 developer，国际化项目按 locale）
  user_facing: chinese
```

**优先级**：项目配置 > 用户全局规则 > 系统默认

**覆盖行为**：项目指定语言时直接使用；配置不明确或边界缺失才询问。

---

## i18n 示例

键名始终英语，翻译值按目标语言：

```json
{
  "error.user_not_found": "用户未找到",
  "button.submit": "提交",
  "validation.email.invalid": "邮箱格式不正确"
}
```
