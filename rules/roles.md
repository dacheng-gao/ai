# è§’è‰²è§†è§’ç³»ç»Ÿ

## æ¦‚è¿°

ä»»åŠ¡å¿…é¡»ä½¿ç”¨å¤šä¸ªä¸“å®¶è§’è‰²ï¼Œé¿å…å•ä¸€è§†è§’ç›²åŒºã€‚  
**æ ¸å¿ƒåŸåˆ™ï¼š** è‡³å°‘ 2-3 ä¸ªç›¸å…³è§’è‰²ã€‚

---

## å¯ç”¨è§’è‰²

### ğŸ—ï¸ è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ
å…³æ³¨ï¼šç³»ç»Ÿè®¾è®¡ã€æ‰©å±•æ€§ã€é›†æˆã€é•¿æœŸå¯ç»´æŠ¤æ€§  
å¸¸é—®ï¼šæ‰©å±• 10xã€è€¦åˆ/æ•…éšœæ¨¡å¼ã€æ¶æ„æƒè¡¡

---

### ğŸ‘¨â€ğŸ’» é«˜çº§å¼€å‘è€…
å…³æ³¨ï¼šå®ç°ç»†èŠ‚ã€è¾¹ç•Œæ¡ä»¶ã€å¯æµ‹è¯•æ€§ã€å¯ç»´æŠ¤æ€§ã€æ€§èƒ½  
å¸¸é—®ï¼šæœ€ç®€å•æ­£ç¡®å®ç°ã€é”™è¯¯å¤„ç†æ˜¯å¦å®Œæ•´

---

### ğŸ§‘â€ğŸ”¬ è¯­è¨€ä¸“å®¶
å…³æ³¨ï¼šè¯­è¨€ç‰¹æ€§ã€è¿è¡Œæ—¶/æ ‡å‡†åº“ã€å¸¸è§é™·é˜±ã€æ€§èƒ½ä¸å¹¶å‘æ¨¡å‹  
å¸¸é—®ï¼šæ˜¯å¦ç¬¦åˆè¯­è¨€ä¹ æƒ¯ä¸æœ€ä½³å®è·µã€æ˜¯å¦è¸©ä¸­å·²çŸ¥é™·é˜±

---

### ğŸ” ä»£ç è¯„å®¡è€…
å…³æ³¨ï¼šæ­£ç¡®æ€§ã€å®‰å…¨æ€§ã€å¯ç»´æŠ¤é£é™©ã€æµ‹è¯•ç¼ºå£  
å¸¸é—®ï¼šå“ªé‡Œå¯èƒ½å‡ºé—®é¢˜ã€æ˜¯å¦å¯å®‰å…¨åˆå¹¶

---

### ğŸ“‹ äº§å“ç»ç†
å…³æ³¨ï¼šç”¨æˆ·ä»·å€¼ã€éœ€æ±‚æ¸…æ™°åº¦ã€èŒƒå›´ã€éªŒæ”¶æ ‡å‡†  
å¸¸é—®ï¼šè§£å†³äº†å“ªä¸ªç”¨æˆ·é—®é¢˜ã€æˆåŠŸæ ‡å‡†æ˜¯å¦æ¸…æ™°

### ğŸ§­ ä¸šåŠ¡é¢†åŸŸä¸“å®¶
å…³æ³¨ï¼šé¢†åŸŸæ¨¡å‹ã€ä¸šåŠ¡è§„åˆ™ã€æµç¨‹ä¸è¾¹ç•Œã€æœ¯è¯­ä¸€è‡´æ€§  
å¸¸é—®ï¼šä¸šåŠ¡è§„åˆ™æ˜¯å¦å®Œæ•´ã€è¾¹ç•Œæ¡ä»¶æ˜¯ä»€ä¹ˆã€æ˜¯å¦ç¬¦åˆæ—¢å®šæµç¨‹

---

### ğŸ§ª QA å·¥ç¨‹å¸ˆ
å…³æ³¨ï¼šè¾¹ç•Œæ¡ä»¶ã€å›å½’é£é™©ã€å¯æµ‹æ€§ã€éªŒè¯ç­–ç•¥  
å¸¸é—®ï¼šå“ªäº›è¾“å…¥ä¼šå¤±è´¥ã€å¦‚ä½•éªŒè¯æ­£ç¡®

---

### ğŸ”’ å®‰å…¨ä¸“å®¶
å…³æ³¨ï¼šè®¤è¯/æˆæƒã€è¾“å…¥æ ¡éªŒã€æ•°æ®ä¿æŠ¤ã€æ³¨å…¥é£é™©  
å¸¸é—®ï¼šæ”»å‡»é¢ã€æœ€å°æƒé™ã€å®¡è®¡è½¨è¿¹

---

### ğŸ“ Prompt å·¥ç¨‹å¸ˆ
å…³æ³¨ï¼šæŒ‡ä»¤æ¸…æ™°åº¦ã€è¾¹ç•Œè¦†ç›–ã€è¾“å‡ºæ ¼å¼ã€ç¨³å¥æ€§  
å¸¸é—®ï¼šæ¨¡å‹å¯èƒ½å¦‚ä½•è¯¯è§£ã€æ˜¯å¦å­˜åœ¨å¯é’»ç©ºå­

---

### ğŸš€ DevOps å·¥ç¨‹å¸ˆ
å…³æ³¨ï¼šéƒ¨ç½²/å›æ»šã€ç›‘æ§å‘Šè­¦ã€å¯é æ€§ã€å¯è§‚æµ‹æ€§  
å¸¸é—®ï¼šå¦‚ä½•éªŒè¯çº¿ä¸Šæ­£å¸¸ã€å›æ»šç­–ç•¥

---

## ä»»åŠ¡-è§’è‰²æ˜ å°„

ä¸åŒä»»åŠ¡éœ€è¦ä¸åŒè§’è‰²ç»„åˆã€‚å‚è€ƒå¦‚ä¸‹ï¼š

| ä»»åŠ¡ç±»å‹ | ä¸»è¦è§’è‰² | æ¬¡è¦è§’è‰² |
|---------|----------|----------|
| **å¼€å‘åŠŸèƒ½** | æ¶æ„å¸ˆã€å¼€å‘è€…ã€è¯„å®¡è€… | äº§å“ã€QA |
| **ä¿®å¤ç¼ºé™·** | å¼€å‘è€…ã€QA | è¯„å®¡è€… |
| **ä»£ç è¯„å®¡** | è¯„å®¡è€…ã€å®‰å…¨ | å¼€å‘è€… |
| **æ¶æ„è¯„å®¡** | æ¶æ„å¸ˆã€å®‰å…¨ã€DevOps | å¼€å‘è€… |
| **é‡æ„** | å¼€å‘è€…ã€æ¶æ„å¸ˆ | è¯„å®¡è€…ã€QA |
| **éœ€æ±‚è¯„å®¡** | äº§å“ã€æ¶æ„å¸ˆã€QA | å®‰å…¨ |
| **ä¸šåŠ¡é¢†åŸŸè®¾è®¡/éœ€æ±‚è®¨è®º** | ä¸šåŠ¡é¢†åŸŸä¸“å®¶ã€äº§å“ | æ¶æ„å¸ˆã€QA |
| **AI æç¤ºè¯** | Prompt å·¥ç¨‹å¸ˆã€è¯„å®¡è€… | QA |
| **å®‰å…¨å®¡è®¡** | å®‰å…¨ã€è¯„å®¡è€… | æ¶æ„å¸ˆã€DevOps |
| **éƒ¨ç½²/å‘å¸ƒ** | DevOpsã€QA | å®‰å…¨ |

---

## å¦‚ä½•åº”ç”¨è§’è‰²

### æ­¥éª¤ 1ï¼šé€‰æ‹©è§’è‰²
- å‚è€ƒä»»åŠ¡-è§’è‰²æ˜ å°„
- é€‰æ‹© 2-4 ä¸ªç›¸å…³è§’è‰²

### æ­¥éª¤ 2ï¼šæŒ‰è§’è‰²è§†è§’åˆ†æ
- ç”¨è¯¥è§’è‰²çš„é—®é¢˜è§†è§’æ£€æŸ¥è¦ç‚¹
- è®°å½•æ¯ä¸ªè§†è§’çš„å…³æ³¨ç‚¹

### æ­¥éª¤ 3ï¼šç»¼åˆè¾“å‡º

**è¾“å‡ºæ ¼å¼é€‰é¡¹ï¼š**

**é€‰é¡¹ Aï¼šè§†è§’æ‘˜è¦ï¼ˆç”¨äºåˆ†æ/è¯„å®¡ç±»ä»»åŠ¡ï¼‰**
```markdown
## Role Perspectives

### ğŸ—ï¸ Architect View
[Key observations and concerns]

### ğŸ‘¨â€ğŸ’» Developer View
[Key observations and concerns]

### ğŸ” Reviewer View
[Key observations and concerns]

## Synthesis
[Combined recommendation considering all perspectives]
```

**é€‰é¡¹ Bï¼šç»¼åˆåˆ†æï¼ˆç”¨äºå®ç°ç±»ä»»åŠ¡ï¼‰**
```markdown
## Analysis
[Unified analysis that weaves in multiple perspectives]

## Considerations
- **Architecture:** [concern]
- **Implementation:** [concern]
- **Quality:** [concern]
- **Security:** [concern]

## Recommendation
[Action plan addressing all concerns]
```

---

## è§„åˆ™

1. **è‡³å°‘ä¸¤ä¸ªè§†è§’**
2. **è§’è‰²æ·±åº¦åŒ¹é…**ï¼ˆå®‰å…¨å…³æ³¨é‰´æƒï¼›å¼€å‘å…³æ³¨å®ç°ï¼‰
3. **å†²çªéœ€è¯´æ˜æƒè¡¡**
4. **ç”¨æˆ·æŒ‡å®šè§’è‰²ä¼˜å…ˆ**
5. **ä»£ç å˜æ›´å¿…é¡»åŒ…å«è¯­è¨€ä¸“å®¶**ï¼ˆè¯†åˆ«ç›¸å…³è¯­è¨€ï¼‰ï¼›çº¯æ–‡æ¡£ä¿®æ”¹ä¸å¼ºåˆ¶

---

## åæ¨¡å¼

| ä¸è¦ | åº”è¯¥ |
|------|------|
| å•ä¸€è§†è§’ | ä½¿ç”¨ 2-4 ä¸ªå…·ä½“è§’è‰² |
| æ³›æ³›â€œé«˜çº§å·¥ç¨‹å¸ˆâ€è§†è§’ | ä½¿ç”¨æ˜ç¡®å‘½åè§’è‰² |
| æ•°æ®å˜æ›´å¿½ç•¥å®‰å…¨ | å˜æ›´æ¶‰åŠæ•°æ®æ—¶åŠ å…¥å®‰å…¨è§’è‰² |
| ç”¨æˆ·å¯è§å·¥ä½œå¿½ç•¥äº§å“ | åŠ å…¥äº§å“è§’è‰²æ¾„æ¸…éœ€æ±‚ |
| è§’è‰²åªæ˜¯èµ°å½¢å¼ | çœŸå®åº”ç”¨æ¯ä¸ªè§’è‰²å…³æ³¨ç‚¹ |

---

## ç¤ºä¾‹

**ä»»åŠ¡ï¼š** ä¸ºæŠ¥è¡¨é¡µæ·»åŠ  CSV å¯¼å‡ºåŠŸèƒ½

**è§’è‰²åº”ç”¨ï¼š** æ¶æ„å¸ˆã€å¼€å‘è€…ã€äº§å“ã€å®‰å…¨

```markdown
## è§’è‰²è§†è§’

### ğŸ—ï¸ æ¶æ„å¸ˆè§†è§’
- Client-side vs server-side export: client works for small datasets, server needed for >10k rows
- Consider pagination API compatibility
- File generation should not block UI thread

### ğŸ‘¨â€ğŸ’» å¼€å‘è€…è§†è§’
- Use existing `utils/csv.ts` utility
- Stream response for large files
- Add proper error handling for malformed data

### ğŸ“‹ äº§å“è§†è§’
- Which columns are required? User research says A, B, C
- Max export size? 10k rows based on performance budget
- Success metric: export completes in <2 seconds

### ğŸ”’ å®‰å…¨è§†è§’
- Respect existing permission checks on /reports
- Sanitize data to prevent CSV injection (=CMD|...)
- Rate limit export endpoint to prevent abuse

## ç»¼åˆç»“è®º
Implement client-side export with server fallback for large datasets.
Include all permission checks and add CSV injection protection.
Cap at 10k rows with clear user messaging.
```
