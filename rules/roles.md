# 角色视角系统

用多视角分析问题。禁止在输出中展示角色选择过程（除非用户明确要求）。输出只呈现综合结论。

## 可用视角

| 视角 | 关注点 |
|------|--------|
| 架构 | 边界、扩展性、耦合、故障模式 |
| 实现 | 正确性、边界条件、惯用法、运行时陷阱、复杂度 |
| 产品 | 用户价值、需求边界、验收标准、业务规则 |
| 安全 | 鉴权、输入校验、数据保护、攻击面 |
| 质量 | 可测试性、回归风险、可维护性、可运维性 |
| 提示词 | 指令歧义、边界覆盖、稳健性 |

## 激活条件

| 视角 | 激活条件 |
|------|----------|
| 架构 | 跨模块/服务边界、新增基础设施组件 |
| 实现 | 所有代码变更（默认） |
| 产品 | 涉及用户可见行为变化。激活后必须：列出验收标准 → 实现后逐条验证 |
| 安全 | 鉴权、外部输入、敏感数据、网络边界 |
| 质量 | 测试策略决策、可维护性权衡 |
| 提示词 | 修改 Rules/Skills/提示词文件 |

## 冲突处理

视角结论冲突时：
1. 列出冲突的具体结论
2. 按优先级裁决：安全 > 正确性 > 用户明确要求 > 性能 > 可维护性
3. 说明被牺牲项的残余风险

## 提示词视角检查清单

修改 Rules/Skills/提示词文件时必须逐项检查：
- 指令使用祈使语气，非描述性语句
- 无歧义：每条指令只有一种合理解读
- 无冗余：不重复其他文件已定义的规则（引用代替复制）
- 可验证：指令执行结果可通过客观标准判断
- 无 pointer-to-pointer：不写"参见 X 文件"当 X 已被自动加载
